!function(s){"use strict";s.fn.formchimp=function(e){var t,a=s(this),n=s("body"),r=a.find('[type="submit"]'),o=r.text(),c=a.attr("action").replace("/post?","/post-json?").concat("&c=?"),l={appendElement:s(this),buttonText:"",errorMessage:"",responseClass:"mc-response",successMessage:"",url:c};s.extend(l,e),a.submit(function(e){function u(s){var e=s.msg;r.text(o),n.addClass("mc-"+s.result).removeClass("mc-loading"),"success"===s.result?(l.successMessage.length>0&&(e=l.successMessage),l.buttonText.length>0&&r.text(l.buttonText)):l.errorMessage.length>0&&(e=l.errorMessage),t.show().html(e)}var d=a.serialize();0===s("."+l.responseClass).length&&(t=s("<div/>").addClass(l.responseClass).appendTo(l.appendElement)),t.html("").hide(),n.removeClass("mc-success mc-error").addClass("mc-loading"),s.ajax({url:c,data:d,success:u,dataType:"jsonp"}),e.preventDefault()})}}(jQuery,window,document);